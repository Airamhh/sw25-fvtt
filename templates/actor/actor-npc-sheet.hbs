<form class="{{cssClass}} {{actor.type}} flexcol" autocomplete="off">

  {{#unless system.limited}}
  {{!-- Sheet Header --}}
  <header class="sheet-header">
    <div class="adventurer-details textalign-center">
      <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="100" width="100"/>
      <div class="header-resources">
        <div class="resources flexcol">
          <div class="hpbar">
            <div class="hp-progress-bar">
              <progress class="hp-bar grid-span-3" value="{{system.hp.value}}" max="{{system.hp.max}}"></progress>
              <div class="current-max-resource nobreak">
                <input id="{{actor._id}}hp" type="number" name="system.hp.value" value="{{system.hp.value}}" data-dtype="Number"/>
                <span class="inline-block">/ {{system.hp.max}}</span>
              </div>
            </div>
            <div class="hpmod nobreak" style="font-size: 0.7rem; display: flex; align-items: center; justify-content: end; height: 20px;">
              <label for="{{actor._id}}hpmod" class="resource-label">{{localize "SW25.Modifier"}}: </label>
              <input id="{{actor._id}}hpmod" style="height: 80%;" type="number" name="system.hp.hpmod" value="{{system.hp.hpmod}}" data-dtype="Number"/>
            </div>
          </div>
          <div class="mpbar">
            <div class="mp-progress-bar">
              <progress class="mp-bar grid-span-3" value="{{system.mp.value}}" max="{{system.mp.max}}"></progress>
              <div class="current-max-resource nobreak">
                <input id="{{actor._id}}mp" type="number" name="system.mp.value" value="{{system.mp.value}}" data-dtype="Number"/>
                <span class="inline-block">/ {{system.mp.max}}</span>
              </div>
            </div>
            <div class="mpmod nobreak"  style="font-size: 0.7rem; display: flex; align-items: center; justify-content: end; height: 20px;">
              <label for="{{actor._id}}mpmod" class="resource-label">{{localize "SW25.Modifier"}}: </label>
              <input id="{{actor._id}}mpmod" style="height: 80%;" type="number" name="system.mp.mpmod" value="{{system.mp.mpmod}}" data-dtype="Number"/>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="header-fields flexrow">
      <div class="character-details">
        <div class="character-details-primary flexrow">
          <div class="flexcol">
            <div class="character-name fontsize14">
              <input id="{{actor._id}}name" name="name" type="text" value="{{actor.name}}" placeholder="Name"/>
            </div>
          </div>
        </div> 
        <hr>
        <div class="npc-parameters character-details-secondary flexcol">
          <div style="height: auto; min-height: 90px;">
            <b>{{localize "SW25.Overview"}}</b><br>{{{system.displayoverview}}}
          </div>
          <hr>
          <div class="character-details-secondary flexrow">
            <div class="npc-pp">
              <span class="npc-label">{{localize "SW25.Attributes.Protectionpoint.abbr"}}</span><br>
              <span class="npc-value">{{system.pp}}</span>
            </div>
            <div class="npc-mpp">
              <span class="npc-label">{{localize "SW25.Attributes.Magicprotection.abbr"}}</span><br>
              <span class="npc-value">{{system.mpp}}</span>
            </div>
            <div class="npc-blank">
            </div>
          </div>
          <hr>
        </div>
      </div>
    </div>
  </header>

  {{!-- Sheet Tab Navigation --}}
  <nav class="sheet-tabs tabs" data-group="primary">
    <a class="item" data-tab="description">{{localize "SW25.Description"}}</a>
    <a class="item" data-tab="details">{{localize "SW25.Details"}}</a>
    <a class="item" data-tab="effects">{{localize "SW25.Effects"}}</a>
  </nav>

  {{!-- Sheet Body --}}
  <section class="sheet-body">

    {{!-- Biography Tab --}}
    <div class="tab biography" data-group="primary" data-tab="description">
      {{editor system.biography target="system.biography" rollData=rollData button=true owner=owner editable=editable}}
    </div>

    {{!-- Owned Details Tab --}}
    <div class="tab items" data-group="primary" data-tab="details">
      <div class="flexcol">
        <div class="flexrow grid grid-5col">
          <div class="grid-span-1 flex-group-center nogapmargin">
            <div class="grid grid-2col nogapmargin">
              <div>
                <span style="text-align: center;"><label for="{{actori._id}}system.hpbase"><b>{{localize "SW25.Max"}}{{localize "SW25.Hp"}}</b></label><br>
                <input id="{{actori._id}}system.hpbase" style="text-align: center;" type="text" name="system.hpbase" value="{{system.hpbase}}" data-dtype="Number"/></span>
              </div>
              <div>
                <span style="text-align: center;"><label for="{{actori._id}}system.mpbase"><b>{{localize "SW25.Max"}}{{localize "SW25.Mp"}}</b></label><br>
                <input id="{{actori._id}}system.mpbase" style="text-align: center;" type="text" name="system.mpbase" value="{{system.mpbase}}" data-dtype="Number"/></span>
              </div>
              <div>
                <span style="text-align: center;"><label for="{{actor._id}}system.ppbase"><b>{{localize "SW25.Attributes.Protectionpoint.abbr"}}</b></label><br>
                <input id="{{actor._id}}system.ppbase" style="text-align: center;" type="text" name="system.ppbase" value="{{system.ppbase}}" data-dtype="Number"/></span>
              </div>
              <div>
                <span style="text-align: center;"><label for="{{actor._id}}system.mppbase"><b>{{localize "SW25.Attributes.Magicprotection.abbr"}}</b></label><br>
                <input id="{{actor._id}}system.mppbase" style="text-align: center;" type="text" name="system.mppbase" value="{{system.mppbase}}" data-dtype="Number"/></span>
              </div>
              <div class="grid-span-2">
                <span style="text-align: center;"><label for="{{actori._id}}system.language"><b>{{localize "SW25.Monster.Language"}}</b></label><br>
                <input id="{{actori._id}}system.language" type="text" name="system.language" value="{{system.language}}" data-dtype="String"/></span>
              </div>
            </div>
          </div>
          <div class="grid-span-4">
            <label for="{{actori._id}}system.overview"><b>{{localize "SW25.Overview"}}</b></label><br>
            <textarea class="textarea-editor" id="{{actori._id}}system.overview" style="width: 100%; height: 120px;" data-path="overview">{{system.overview}}</textarea>
          </div>
        </div>
        {{#if system.isgm}}
        <div class="flexcol margin-m">
          <div><b>{{localize "SW25.Gminfo"}}</b></div>
          <span style="text-align: left;"><label for="{{actor._id}}system.udname">{{localize "SW25.Unidentifiedname"}}</label><input id="{{actor._id}}system.udname" style="max-width: calc(50% - 7px); text-align: left;" type="text" name="system.udname" value="{{system.udname}}" data-dtype="String"/></span>
          <div>{{editor system.gminfo target="system.gminfo" rollData=rollData button=true owner=owner editable=editable}}</div>
        </div>
        {{/if}}
      </div>
    </div>

    {{!-- Active Effects Tab --}}
    <div class="tab effects flexcol" data-group="primary" data-tab="effects">
      <div class="flexcol margin-l gap-m">
        <div class="resource-label-l">{{localize "SW25.Effect.TotalEffects"}}</div>
        <div class="grid grid-4col">
          {{#if system.totalppmod}}<div><b>{{localize "SW25.Effect.PpMod"}}: {{system.totalppmod}}</b></div>{{/if}}
          {{#if system.totalmppmod}}<div><b>{{localize "SW25.Effect.MppMod"}}: {{system.totalmppmod}}</b></div>{{/if}}
          {{#if system.totaldreduce}}<div><b>{{localize "SW25.Effect.Dreduce"}}: {{system.totaldreduce}}</b></div>{{/if}}
          {{#if system.totalhpmod}}<div><b>{{localize "SW25.Effect.HpMod"}}: {{system.totalhpmod}}</b></div>{{/if}}
          {{#if system.totalmpmod}}<div><b>{{localize "SW25.Effect.MpMod"}}: {{system.totalmpmod}}</b></div>{{/if}}
        </div>
      </div>
      <div>
        {{> "systems/sw25/templates/actor/parts/actor-effects.hbs"}}
      </div>
    </div>

  </section>
  {{/unless}}

  {{#if system.limited}}
  <header class="sheet-header">
    <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="100" width="100"/>
    <div class="header-fields">
      <h1 class="charname"><input name="name" type="text" value="{{actor.name}}" placeholder="Name"/></h1>
      <div class="resources grid grid-4col">
        <div></div>
        <div class="grid-span-3">
          <b>{{localize "SW25.Overview"}}</b><br>{{{system.overview}}}
        </div>
      </div>
    </div>
  </header>
  {{/if}}

</form>

